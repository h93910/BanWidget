package com.example.banwidgetimport android.app.Applicationimport android.content.Intentimport com.example.banwidget.tool.CrashHandlerimport kotlinx.coroutines.*import java.util.concurrent.ExecutorServiceimport java.util.concurrent.Executors/** * Created by Ban on 2018/1/23. */class MyApplication : Application() {    override fun onCreate() {        super.onCreate()        CrashHandler.getInstance().init(this)        CoroutineScope(Dispatchers.Default).launch {            //不能在application初期注册服务？            delay(10000)            init()        }    }    private fun init() {        val intent = Intent(this, TimerWidgetService::class.java)//        intent.component = ComponentName(this, TimerWidgetService::class.java)        startForegroundService(intent);    }    companion object {        private const val TAG = "MyApplication"        @JvmField        var ThreadExecutor: ExecutorService = Executors.newSingleThreadExecutor()    }}